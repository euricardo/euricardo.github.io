/*

Quicksand 1.2.2

Reorder and filter items with a nice shuffling animation.

Copyright (c) 2010 Jacek Galanciak (razorjack.net) and agilope.com
Big thanks for Piotr Petrus (riddle.pl) for deep code review and wonderful docs & demos.

Dual licensed under the MIT and GPL version 2 licenses.
http://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
http://github.com/jquery/jquery/blob/master/GPL-LICENSE.txt

Project site: http://razorjack.net/quicksand
Github site: http://github.com/razorjack/quicksand

Modified by ThemeCatcher for compatibility with jQuery 1.9+
    Changed the IE checks to not use $.browser

*/
!function(a){a.fn.quicksand=function(b,c){var e={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"auto",useScaling:!0,enhancement:function(){},selector:"> *",dx:0,dy:0};a.extend(e,c);var f=navigator.userAgent.match(/msie/i),g=f&&!window.XMLHttpRequest;(f||"undefined"==typeof a.fn.scale)&&(e.useScaling=!1);var h;if("function"==typeof arguments[1])var h=arguments[1];else var h=arguments[2];return this.each(function(c){var f,m,i=[],j=a(b).clone(),k=a(this),l=a(this).css("height"),n=!1,o=a(k).offset(),p=[],q=a(this).find(e.selector);if(g)return k.html("").append(j),void 0;var r=0,s=function(){r||(r=1,$toDelete=k.find("> *"),k.prepend(x.find("> *")),$toDelete.remove(),n&&k.css("height",m),e.enhancement(k),"function"==typeof h&&h.call(this))},t=k.offsetParent(),u=t.offset();"relative"==t.css("position")?"body"==t.get(0).nodeName.toLowerCase()||(u.top+=parseFloat(t.css("border-top-width"))||0,u.left+=parseFloat(t.css("border-left-width"))||0):(u.top-=parseFloat(t.css("border-top-width"))||0,u.left-=parseFloat(t.css("border-left-width"))||0,u.top-=parseFloat(t.css("margin-top"))||0,u.left-=parseFloat(t.css("margin-left"))||0),isNaN(u.left)&&(u.left=0),isNaN(u.top)&&(u.top=0),u.left-=e.dx,u.top-=e.dy,k.css("height",a(this).height()),q.each(function(b){p[b]=a(this).offset()}),a(this).stop();var v=0,w=0;q.each(function(b){a(this).stop();var c=a(this).get(0);"absolute"==c.style.position?(v=-e.dx,w=-e.dy):(v=e.dx,w=e.dy),c.style.position="absolute",c.style.margin="0",c.style.top=p[b].top-parseFloat(c.style.marginTop)-u.top+w+"px",c.style.left=p[b].left-parseFloat(c.style.marginLeft)-u.left+v+"px"});var x=a(k).clone(),y=x.get(0);for(y.innerHTML="",y.setAttribute("id",""),y.style.height="auto",y.style.width=k.width()+"px",x.append(j),x.insertBefore(k),x.css("opacity",0),y.style.zIndex=-1,y.style.margin="0",y.style.position="absolute",y.style.top=o.top-u.top+"px",y.style.left=o.left-u.left+"px","dynamic"===e.adjustHeight?k.animate({height:x.height()},e.duration,e.easing):"auto"===e.adjustHeight&&(m=x.height(),parseFloat(l)<parseFloat(m)?k.css("height",m):n=!0),q.each(function(){var c=[];"function"==typeof e.attribute?(f=e.attribute(a(this)),j.each(function(){return e.attribute(this)==f?(c=a(this),!1):void 0})):c=j.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]"),c.length?e.useScaling?i.push({element:a(this),animation:{top:c.offset().top-u.top,left:c.offset().left-u.left,opacity:1,scale:"1.0"}}):i.push({element:a(this),animation:{top:c.offset().top-u.top,left:c.offset().left-u.left,opacity:1}}):e.useScaling?i.push({element:a(this),animation:{opacity:"0.0",scale:"0.0"}}):i.push({element:a(this),animation:{opacity:"0.0"}})}),j.each(function(){var c=[],g=[];"function"==typeof e.attribute?(f=e.attribute(a(this)),q.each(function(){return e.attribute(this)==f?(c=a(this),!1):void 0}),j.each(function(){return e.attribute(this)==f?(g=a(this),!1):void 0})):(c=q.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]"),g=j.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]"));var h;if(0===c.length){h=e.useScaling?{opacity:"1.0",scale:"1.0"}:{opacity:"1.0"},d=g.clone();var l=d.get(0);l.style.position="absolute",l.style.margin="0",l.style.top=g.offset().top-u.top+"px",l.style.left=g.offset().left-u.left+"px",d.css("opacity",0),e.useScaling&&d.css("transform","scale(0.0)"),d.appendTo(k),i.push({element:a(d),animation:h})}}),x.remove(),e.enhancement(k),c=0;c<i.length;c++)i[c].element.animate(i[c].animation,e.duration,e.easing,s)})}}(jQuery);

/*!
 * CSS Transform
 * https://github.com/zachstronaut/jquery-css-transform
 * This code is currently available for use in all personal or commercial projects under both MIT and GPL licenses, just like jQuery.
 */
(function(c){var b=null,f=c.fn.css;c.fn.css=function(a,g){null===b&&(b="undefined"!=typeof c.cssProps?c.cssProps:"undefined"!=typeof c.props?c.props:{});if("undefined"==typeof b.transform&&("transform"==a||"object"==typeof a&&"undefined"!=typeof a.transform)){var h=b,d;a:{d=this.get(0);for(var i=["transform","WebkitTransform","msTransform","MozTransform","OTransform"],e;e=i.shift();)if("undefined"!=typeof d.style[e]){d=e;break a}d="transform"}h.transform=d}if("transform"!=b.transform)if("transform"== a){if(a=b.transform,"undefined"==typeof g&&jQuery.style)return jQuery.style(this.get(0),a)}else"object"==typeof a&&"undefined"!=typeof a.transform&&(a[b.transform]=a.transform,delete a.transform);return f.apply(this,arguments)}})(jQuery);
/*
 * CSS Animate Rotate Scale
 * https://github.com/zachstronaut/jquery-animate-css-rotate-scale
 * This code is currently available for use in all personal or commercial projects under both MIT and GPL licenses, just like jQuery.
 */
(function(b){var d="deg";b.fn.rotate=function(a){var c=b(this).css("transform")||"none";if("undefined"==typeof a)return c&&(a=c.match(/rotate\(([^)]+)\)/))&&a[1]?a[1]:0;if(a=a.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/))a[3]&&(d=a[3]),b(this).css("transform",c.replace(/none|rotate\([^)]*\)/,"")+"rotate("+a[1]+d+")");return this};b.fn.scale=function(a){var c=b(this).css("transform");if("undefined"==typeof a)return c&&(a=c.match(/scale\(([^)]+)\)/))&&a[1]?a[1]:1;b(this).css("transform",c.replace(/none|scale\([^)]*\)/, "")+"scale("+a+")");return this};var e=b.fx.prototype.cur;b.fx.prototype.cur=function(){return"rotate"==this.prop?parseFloat(b(this.elem).rotate()):"scale"==this.prop?parseFloat(b(this.elem).scale()):e.apply(this,arguments)};b.fx.step.rotate=function(a){b(a.elem).rotate(a.now+d)};b.fx.step.scale=function(a){b(a.elem).scale(a.now)};var f=b.fn.animate;b.fn.animate=function(a){if("undefined"!=typeof a.rotate){var b=a.rotate.toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);b&&b[5]&&(d=b[5]);a.rotate= b[1]}return f.apply(this,arguments)}})(jQuery);